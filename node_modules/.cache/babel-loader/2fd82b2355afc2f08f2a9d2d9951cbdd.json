{"ast":null,"code":"!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? n(exports) : \"function\" == typeof define && define.amd ? define([\"exports\"], n) : n((e = e || self).vkConnect = {});\n}(this, function (e) {\n  \"use strict\";\n\n  var u = function () {\n    return (u = Object.assign || function (e) {\n      for (var n, t = 1, o = arguments.length; t < o; t++) for (var r in n = arguments[t]) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n\n      return e;\n    }).apply(this, arguments);\n  };\n\n  function d() {\n    for (var e = 0, n = 0, t = arguments.length; n < t; n++) e += arguments[n].length;\n\n    var o = Array(e),\n        r = 0;\n\n    for (n = 0; n < t; n++) for (var i = arguments[n], p = 0, u = i.length; p < u; p++, r++) o[r] = i[p];\n\n    return o;\n  }\n\n  function o(i, e) {\n    var t,\n        r,\n        p = (t = {\n      current: 0,\n      next: function () {\n        return ++this.current;\n      }\n    }, r = {}, {\n      add: function (e) {\n        var n = t.next();\n        return r[n] = e, n;\n      },\n      resolve: function (e, n, t) {\n        var o = r[e];\n        o && (t(n) ? o.resolve(n) : o.reject(n), r[e] = null);\n      }\n    });\n    return e(function (e) {\n      if (e.detail && e.detail.data) {\n        var n = e.detail.data,\n            t = n.request_id,\n            o = function (e, n) {\n          var t = {};\n\n          for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && n.indexOf(o) < 0 && (t[o] = e[o]);\n\n          if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n            var r = 0;\n\n            for (o = Object.getOwnPropertySymbols(e); r < o.length; r++) n.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (t[o[r]] = e[o[r]]);\n          }\n\n          return t;\n        }(n, [\"request_id\"]);\n\n        t && p.resolve(t, o, function (e) {\n          return !(\"error_type\" in e);\n        });\n      }\n    }), function (o, r) {\n      return void 0 === r && (r = {}), new Promise(function (e, n) {\n        var t = null == r.request_id ? p.add({\n          resolve: e,\n          reject: n\n        }) : r.request_id;\n        i(o, u(u({}, r), {\n          request_id: t\n        }));\n      });\n    };\n  }\n\n  var n = \"undefined\" != typeof window,\n      a = Boolean(n && window.AndroidBridge),\n      s = Boolean(n && window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.VKWebAppClose),\n      f = !a && !s,\n      r = f ? \"message\" : \"VKWebAppEvent\",\n      l = [\"VKWebAppInit\", \"VKWebAppGetCommunityAuthToken\", \"VKWebAppAddToCommunity\", \"VKWebAppGetUserInfo\", \"VKWebAppSetLocation\", \"VKWebAppGetClientVersion\", \"VKWebAppGetPhoneNumber\", \"VKWebAppGetEmail\", \"VKWebAppGetGeodata\", \"VKWebAppSetTitle\", \"VKWebAppGetAuthToken\", \"VKWebAppCallAPIMethod\", \"VKWebAppJoinGroup\", \"VKWebAppAllowMessagesFromGroup\", \"VKWebAppDenyNotifications\", \"VKWebAppAllowNotifications\", \"VKWebAppOpenPayForm\", \"VKWebAppOpenApp\", \"VKWebAppShare\", \"VKWebAppShowWallPostBox\", \"VKWebAppScroll\", \"VKWebAppResizeWindow\", \"VKWebAppShowOrderBox\", \"VKWebAppShowLeaderBoardBox\", \"VKWebAppShowInviteBox\", \"VKWebAppShowRequestBox\", \"VKWebAppAddToFavorites\", \"VKWebAppShowCommunityWidgetPreviewBox\"],\n      c = n ? window.AndroidBridge : void 0,\n      b = s ? window.webkit.messageHandlers : void 0;\n\n  function t() {\n    for (var o = [], e = 0; e < arguments.length; e++) o[e] = arguments[e];\n\n    return o.includes(void 0) || o.includes(null) ? t.apply(void 0, o.filter(function (e) {\n      return \"function\" == typeof e;\n    })) : function (t) {\n      if (0 === o.length) return t;\n      var e,\n          n = {\n        subscribe: t.subscribe,\n        send: function () {\n          for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];\n\n          return t.send.apply(t, e);\n        }\n      };\n      return e = o.filter(function (e) {\n        return \"function\" == typeof e;\n      }).map(function (e) {\n        return e(n);\n      }).reduce(function (n, t) {\n        return function (e) {\n          return n(t(e));\n        };\n      })(t.send), u(u({}, t), {\n        send: e\n      });\n    };\n  }\n\n  function i(e, n) {\n    var t = n || {\n      bubbles: !1,\n      cancelable: !1,\n      detail: void 0\n    },\n        o = document.createEvent(\"CustomEvent\");\n    return o.initCustomEvent(e, !!t.bubbles, !!t.cancelable, t.detail), o;\n  }\n\n  \"undefined\" == typeof window || window.CustomEvent || (window.CustomEvent = (i.prototype = Event.prototype, i));\n\n  var p = function (t) {\n    var i = void 0,\n        p = [];\n\n    function e(e) {\n      p.push(e);\n    }\n\n    \"undefined\" != typeof window && \"addEventListener\" in window && window.addEventListener(r, function (n) {\n      if (s || a) return d(p).map(function (e) {\n        return e.call(null, n);\n      });\n\n      if (f && n && n.data) {\n        var e = n.data,\n            t = e.type,\n            o = e.data,\n            r = e.frameId;\n        t && \"VKWebAppSettings\" === t ? i = r : d(p).map(function (e) {\n          return e({\n            detail: {\n              type: t,\n              data: o\n            }\n          });\n        });\n      }\n    });\n    var n = o(function (e, n) {\n      c && c[e] ? c[e](JSON.stringify(n)) : b && b[e] && \"function\" == typeof b[e].postMessage ? b[e].postMessage(n) : f && parent.postMessage({\n        handler: e,\n        params: n,\n        type: \"vk-connect\",\n        webFrameId: i,\n        connectVersion: t\n      }, \"*\");\n    }, e);\n    return {\n      send: n,\n      sendPromise: n,\n      subscribe: e,\n      unsubscribe: function (e) {\n        var n = p.indexOf(e);\n        -1 < n && p.splice(n, 1);\n      },\n      supports: function (e) {\n        return a ? !(!c || \"function\" != typeof c[e]) : s ? !(!b || !b[e] || \"function\" != typeof b[e].postMessage) : f && -1 < l.indexOf(e);\n      },\n      isWebView: function () {\n        return s || a;\n      }\n    };\n  }(\"1.9.1\");\n\n  \"undefined\" != typeof module && module.exports && (module.exports = u({}, p), module.exports.default = u({}, p), module.exports.applyMiddleware = t), e.applyMiddleware = t, e.default = p, Object.defineProperty(e, \"__esModule\", {\n    value: !0\n  });\n});","map":{"version":3,"sources":["E:/Projects/hotfix_web/node_modules/@vkontakte/vk-connect/dist/index.umd.js"],"names":["e","n","exports","module","define","amd","self","vkConnect","u","Object","assign","t","o","arguments","length","r","prototype","hasOwnProperty","call","apply","d","Array","i","p","current","next","add","resolve","reject","detail","data","request_id","indexOf","getOwnPropertySymbols","propertyIsEnumerable","Promise","window","a","Boolean","AndroidBridge","s","webkit","messageHandlers","VKWebAppClose","f","l","c","b","includes","filter","subscribe","send","map","reduce","bubbles","cancelable","document","createEvent","initCustomEvent","CustomEvent","Event","push","addEventListener","type","frameId","JSON","stringify","postMessage","parent","handler","params","webFrameId","connectVersion","sendPromise","unsubscribe","splice","supports","isWebView","default","applyMiddleware","defineProperty","value"],"mappings":"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","sourcesContent":["!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?n(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],n):n((e=e||self).vkConnect={})}(this,function(e){\"use strict\";var u=function(){return(u=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)};function d(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;var o=Array(e),r=0;for(n=0;n<t;n++)for(var i=arguments[n],p=0,u=i.length;p<u;p++,r++)o[r]=i[p];return o}function o(i,e){var t,r,p=(t={current:0,next:function(){return++this.current}},r={},{add:function(e){var n=t.next();return r[n]=e,n},resolve:function(e,n,t){var o=r[e];o&&(t(n)?o.resolve(n):o.reject(n),r[e]=null)}});return e(function(e){if(e.detail&&e.detail.data){var n=e.detail.data,t=n.request_id,o=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t}(n,[\"request_id\"]);t&&p.resolve(t,o,function(e){return!(\"error_type\"in e)})}}),function(o,r){return void 0===r&&(r={}),new Promise(function(e,n){var t=null==r.request_id?p.add({resolve:e,reject:n}):r.request_id;i(o,u(u({},r),{request_id:t}))})}}var n=\"undefined\"!=typeof window,a=Boolean(n&&window.AndroidBridge),s=Boolean(n&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),f=!a&&!s,r=f?\"message\":\"VKWebAppEvent\",l=[\"VKWebAppInit\",\"VKWebAppGetCommunityAuthToken\",\"VKWebAppAddToCommunity\",\"VKWebAppGetUserInfo\",\"VKWebAppSetLocation\",\"VKWebAppGetClientVersion\",\"VKWebAppGetPhoneNumber\",\"VKWebAppGetEmail\",\"VKWebAppGetGeodata\",\"VKWebAppSetTitle\",\"VKWebAppGetAuthToken\",\"VKWebAppCallAPIMethod\",\"VKWebAppJoinGroup\",\"VKWebAppAllowMessagesFromGroup\",\"VKWebAppDenyNotifications\",\"VKWebAppAllowNotifications\",\"VKWebAppOpenPayForm\",\"VKWebAppOpenApp\",\"VKWebAppShare\",\"VKWebAppShowWallPostBox\",\"VKWebAppScroll\",\"VKWebAppResizeWindow\",\"VKWebAppShowOrderBox\",\"VKWebAppShowLeaderBoardBox\",\"VKWebAppShowInviteBox\",\"VKWebAppShowRequestBox\",\"VKWebAppAddToFavorites\",\"VKWebAppShowCommunityWidgetPreviewBox\"],c=n?window.AndroidBridge:void 0,b=s?window.webkit.messageHandlers:void 0;function t(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];return o.includes(void 0)||o.includes(null)?t.apply(void 0,o.filter(function(e){return\"function\"==typeof e})):function(t){if(0===o.length)return t;var e,n={subscribe:t.subscribe,send:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.send.apply(t,e)}};return e=o.filter(function(e){return\"function\"==typeof e}).map(function(e){return e(n)}).reduce(function(n,t){return function(e){return n(t(e))}})(t.send),u(u({},t),{send:e})}}function i(e,n){var t=n||{bubbles:!1,cancelable:!1,detail:void 0},o=document.createEvent(\"CustomEvent\");return o.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail),o}\"undefined\"==typeof window||window.CustomEvent||(window.CustomEvent=(i.prototype=Event.prototype,i));var p=function(t){var i=void 0,p=[];function e(e){p.push(e)}\"undefined\"!=typeof window&&\"addEventListener\"in window&&window.addEventListener(r,function(n){if(s||a)return d(p).map(function(e){return e.call(null,n)});if(f&&n&&n.data){var e=n.data,t=e.type,o=e.data,r=e.frameId;t&&\"VKWebAppSettings\"===t?i=r:d(p).map(function(e){return e({detail:{type:t,data:o}})})}});var n=o(function(e,n){c&&c[e]?c[e](JSON.stringify(n)):b&&b[e]&&\"function\"==typeof b[e].postMessage?b[e].postMessage(n):f&&parent.postMessage({handler:e,params:n,type:\"vk-connect\",webFrameId:i,connectVersion:t},\"*\")},e);return{send:n,sendPromise:n,subscribe:e,unsubscribe:function(e){var n=p.indexOf(e);-1<n&&p.splice(n,1)},supports:function(e){return a?!(!c||\"function\"!=typeof c[e]):s?!(!b||!b[e]||\"function\"!=typeof b[e].postMessage):f&&-1<l.indexOf(e)},isWebView:function(){return s||a}}}(\"1.9.1\");\"undefined\"!=typeof module&&module.exports&&(module.exports=u({},p),module.exports.default=u({},p),module.exports.applyMiddleware=t),e.applyMiddleware=t,e.default=p,Object.defineProperty(e,\"__esModule\",{value:!0})});\n"]},"metadata":{},"sourceType":"script"}