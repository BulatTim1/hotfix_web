{"version":3,"sources":["../../../src/lib/platform.ts"],"names":["canUseDOM","OS","ANDROID","IOS","platform","useragent","ua","navigator","userAgent","test","osname","IS_PLATFORM_IOS","IS_PLATFORM_ANDROID"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AAEA,WAAYC,EAAZ;;WAAYA,E;AAAAA,EAAAA,E;AAAAA,EAAAA,E;GAAAA,E,KAAAA,E;;AAKZ,OAAO,IAAMC,OAAW,GAAGD,EAAE,CAACC,OAAvB;AACP,OAAO,IAAMC,GAAO,GAAGF,EAAE,CAACE,GAAnB;AAEP,OAAO,SAASC,QAAT,CAAkBC,SAAlB,EAA0C;AAC/C,MAAMC,EAAE,GAAGD,SAAS,IAAKL,SAAS,IAAIO,SAAS,CAACC,SAArC,IAAmD,EAA9D;AAEA,SAAO,WAAWC,IAAX,CAAgBH,EAAhB,IAAsBJ,OAAtB,GAAgCC,GAAvC;AACD,C,CAED;;AACA;;;;;AAIA,IAAMO,MAAM,GAAGN,QAAQ,EAAvB;AAEA;;;;AAGA,OAAO,IAAMO,eAAwB,GAAGD,MAAM,KAAKP,GAA5C;AACP;;;;AAGA,OAAO,IAAMS,mBAA4B,GAAGF,MAAM,KAAKR,OAAhD","sourcesContent":["import { canUseDOM } from './dom';\n\nexport enum OS {\n  ANDROID = 'android',\n  IOS = 'ios'\n}\n\nexport const ANDROID: OS = OS.ANDROID;\nexport const IOS: OS = OS.IOS;\n\nexport function platform(useragent?: string): OS {\n  const ua = useragent || (canUseDOM && navigator.userAgent) || '';\n\n  return /android/i.test(ua) ? ANDROID : IOS;\n}\n\n// @TODO выпилить в 3.0.0\n/**\n * @deprecated будет удалено в 3.0.0, так как для SSR нужно определять osname не один раз при запуске, а на каждый\n * запрос.\n */\nconst osname = platform();\n\n/**\n * @deprecated будет удалено в 3.0.0, используйте platform() === OS.IOS\n */\nexport const IS_PLATFORM_IOS: boolean = osname === IOS;\n/**\n * @deprecated будет удалено в 3.0.0, используйте platform() === OS.ANDROID\n */\nexport const IS_PLATFORM_ANDROID: boolean = osname === ANDROID;\n"],"file":"platform.js"}