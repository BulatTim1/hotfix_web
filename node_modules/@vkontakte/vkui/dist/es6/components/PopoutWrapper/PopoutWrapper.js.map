{"version":3,"sources":["../../../../src/components/PopoutWrapper/PopoutWrapper.js"],"names":["React","getClassName","classNames","PropTypes","IS_PLATFORM_ANDROID","transitionEvents","baseClassNames","PopoutWrapper","opened","e","manual","animationName","setState","preventDefault","state","props","onClick","el","window","addEventListener","preventTouch","passive","waitAnimationFinish","onFadeInEnd","removeEventListener","clearTimeout","animationFinishTimeout","elem","eventHandler","supported","eventName","prefix","setTimeout","bind","v","h","closing","children","hasMask","className","restProps","getRef","Component","bool","oneOf","func","style","object","node","string"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAASC,mBAAT,QAAoC,oBAApC;AACA,OAAOC,gBAAP,MAA6B,4BAA7B;AAEA,IAAMC,cAAc,GAAGL,YAAY,CAAC,eAAD,CAAnC;;IAEqBM,a;;;;;;;;;;;;;;;;;;4DACX;AACNC,MAAAA,MAAM,EAAE;AADF,K;;kEA0CM,YAA0B;AAAA,UAAzBC,CAAyB,uEAArB;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAqB;;AACtC,UAAID,CAAC,CAACE,aAAF,KAAoB,wBAApB,IAAgDF,CAAC,CAACC,MAAtD,EAA8D;AAC5D,cAAKE,QAAL,CAAc;AAAEJ,UAAAA,MAAM,EAAE;AAAV,SAAd;AACD;AACF,K;;mEAEc,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACI,cAAF,EAAJ;AAAA,K;;8DAEN,UAAAJ,CAAC;AAAA,aAAI,MAAKK,KAAL,CAAWN,MAAX,IAAqB,MAAKO,KAAL,CAAWC,OAAhC,IAA2C,MAAKD,KAAL,CAAWC,OAAX,CAAmBP,CAAnB,CAA/C;AAAA,K;;6DAEF,UAAAQ,EAAE;AAAA,aAAI,MAAKA,EAAL,GAAUA,EAAd;AAAA,K;;;;;;;wCA9BU;AACnBC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,WAAxB,EAAqC,KAAKC,YAA1C,EAAwD;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAxD;AACA,WAAKC,mBAAL,CAAyB,KAAKL,EAA9B,EAAkC,KAAKM,WAAvC;AACD;;;2CAEuB;AACtBL,MAAAA,MAAM,CAACM,mBAAP,CAA2B,WAA3B,EAAwC,KAAKJ,YAA7C,EAA2D;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAA3D;AACAI,MAAAA,YAAY,CAAC,KAAKC,sBAAN,CAAZ;AACD;;;wCAEoBC,I,EAAMC,Y,EAAc;AACvC,UAAIvB,gBAAgB,CAACwB,SAArB,EAAgC;AAC9B,YAAMC,SAAS,GAAGzB,gBAAgB,CAAC0B,MAAjB,GAA0B1B,gBAAgB,CAAC0B,MAAjB,GAA0B,cAApD,GAAqE,cAAvF;AACAJ,QAAAA,IAAI,CAACH,mBAAL,CAAyBM,SAAzB,EAAoCF,YAApC;AACAD,QAAAA,IAAI,CAACR,gBAAL,CAAsBW,SAAtB,EAAiCF,YAAjC;AACD,OAJD,MAIO;AACL,aAAKF,sBAAL,GAA8BM,UAAU,CAACJ,YAAY,CAACK,IAAb,CAAkB,IAAlB,CAAD,EAA0B7B,mBAAmB,GAAG,GAAH,GAAS,GAAtD,CAAxC;AACD;AACF;;;6BAcS;AAAA;;AAAA,wBACuE,KAAKW,KAD5E;AAAA,UACAmB,CADA,eACAA,CADA;AAAA,UACGC,CADH,eACGA,CADH;AAAA,UACMC,OADN,eACMA,OADN;AAAA,UACeC,QADf,eACeA,QADf;AAAA,UACyBC,OADzB,eACyBA,OADzB;AAAA,UACkCtB,OADlC,eACkCA,OADlC;AAAA,UAC2CuB,SAD3C,eAC2CA,SAD3C;AAAA,UACyDC,SADzD;;AAGR,aACE,wCAASA,SAAT;AAAoB,QAAA,SAAS,EAAEtC,UAAU,CAACI,cAAD,6EAClB4B,CADkB,GACZA,CADY,2DAElBC,CAFkB,GAEZA,CAFY,gCAGvC,wBAHuC,EAGbC,OAHa,iBAItCG,SAJsC,CAAzC;AAIe,QAAA,OAAO,EAAE,KAAKvB,OAJ7B;AAIsC,QAAA,GAAG,EAAE,KAAKyB;AAJhD,UAKGH,OAAO,IAAI;AAAK,QAAA,SAAS,EAAC;AAAf,QALd,EAME;AAAK,QAAA,SAAS,EAAC;AAAf,SAA2CD,QAA3C,CANF,CADF;AAUD;;;;EApEwCrC,KAAK,CAAC0C,S;;gBAA5BnC,a,eAKA;AACjB+B,EAAAA,OAAO,EAAEnC,SAAS,CAACwC,IADF;AAEjBT,EAAAA,CAAC,EAAE/B,SAAS,CAACyC,KAAV,CAAgB,CAAC,KAAD,EAAQ,QAAR,EAAkB,QAAlB,CAAhB,CAFc;AAGjBT,EAAAA,CAAC,EAAEhC,SAAS,CAACyC,KAAV,CAAgB,CAAC,MAAD,EAAS,QAAT,EAAmB,OAAnB,CAAhB,CAHc;AAIjBR,EAAAA,OAAO,EAAEjC,SAAS,CAACwC,IAJF;AAKjB3B,EAAAA,OAAO,EAAEb,SAAS,CAAC0C,IALF;AAMjBC,EAAAA,KAAK,EAAE3C,SAAS,CAAC4C,MANA;AAOjBV,EAAAA,QAAQ,EAAElC,SAAS,CAAC6C,IAPH;AAQjBT,EAAAA,SAAS,EAAEpC,SAAS,CAAC8C;AARJ,C;;gBALA1C,a,kBAgBG;AACpB+B,EAAAA,OAAO,EAAE,IADW;AAEpBJ,EAAAA,CAAC,EAAE,QAFiB;AAGpBC,EAAAA,CAAC,EAAE,QAHiB;AAIpBC,EAAAA,OAAO,EAAE;AAJW,C;;SAhBH7B,a","sourcesContent":["import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport transitionEvents from '../../lib/transitionEvents';\n\nconst baseClassNames = getClassName('PopoutWrapper');\n\nexport default class PopoutWrapper extends React.Component {\n  state = {\n    opened: false\n  };\n\n  static propTypes = {\n    hasMask: PropTypes.bool,\n    v: PropTypes.oneOf(['top', 'center', 'bottom']),\n    h: PropTypes.oneOf(['left', 'center', 'right']),\n    closing: PropTypes.bool,\n    onClick: PropTypes.func,\n    style: PropTypes.object,\n    children: PropTypes.node,\n    className: PropTypes.string\n  };\n\n  static defaultProps = {\n    hasMask: true,\n    v: 'center',\n    h: 'center',\n    closing: false\n  };\n\n  componentDidMount () {\n    window.addEventListener('touchmove', this.preventTouch, { passive: false });\n    this.waitAnimationFinish(this.el, this.onFadeInEnd);\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('touchmove', this.preventTouch, { passive: false });\n    clearTimeout(this.animationFinishTimeout);\n  }\n\n  waitAnimationFinish (elem, eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'AnimationEnd' : 'animationend';\n      elem.removeEventListener(eventName, eventHandler);\n      elem.addEventListener(eventName, eventHandler);\n    } else {\n      this.animationFinishTimeout = setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 300 : 600);\n    }\n  }\n\n  onFadeInEnd = (e = { manual: true }) => {\n    if (e.animationName === 'animation-full-fade-in' || e.manual) {\n      this.setState({ opened: true });\n    }\n  };\n\n  preventTouch = e => e.preventDefault();\n\n  onClick = e => this.state.opened && this.props.onClick && this.props.onClick(e);\n\n  getRef = el => this.el = el;\n\n  render () {\n    const { v, h, closing, children, hasMask, onClick, className, ...restProps } = this.props;\n\n    return (\n      <div {...restProps} className={classNames(baseClassNames, {\n        [`PopoutWrapper--v-${v}`]: v,\n        [`PopoutWrapper--h-${h}`]: h,\n        'PopoutWrapper--closing': closing\n      }, className)} onClick={this.onClick} ref={this.getRef}>\n        {hasMask && <div className=\"PopoutWrapper__mask\" />}\n        <div className=\"PopoutWrapper__container\">{children}</div>\n      </div>\n    );\n  }\n}\n"],"file":"PopoutWrapper.js"}