{"version":3,"sources":["../../../../src/components/PanelHeader/PanelHeader.js"],"names":["React","ReactDOM","PropTypes","getClassName","classNames","IS_PLATFORM_IOS","baseClassNames","PanelHeader","ready","panelId","context","panel","leftNode","document","getElementById","addonNode","titleNode","rightNode","bgNode","getRef","props","element","current","setState","left","addon","children","right","theme","noShadow","transparent","isPrimitive","state","createPortal","indexOf","scheme","webviewType","Component","node","oneOf","bool","oneOfType","func","shape","any","string"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\n\nexport const baseClassNames = getClassName('PanelHeader');\n\nexport default class PanelHeader extends React.Component {\n  static propTypes = {\n    left: PropTypes.node,\n    /**\n     * iOS only\n     */\n    addon: PropTypes.node,\n    right: PropTypes.node,\n    children: PropTypes.node,\n    /**\n     * Вместо `light` используйте `alternate`. Значение `light` устарело и будет удалено в следующей\n     * мажорной версии.\n     */\n    theme: PropTypes.oneOf(['light', 'alternate', 'brand']),\n    /**\n     * @ignore\n     */\n    transparent: PropTypes.bool,\n    noShadow: PropTypes.bool,\n    getRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.any })\n    ])\n  };\n\n  static defaultProps = {\n    theme: 'brand',\n    transparent: false,\n    noShadow: false\n  };\n\n  static contextTypes = {\n    panel: PropTypes.string,\n    document: PropTypes.any,\n    scheme: PropTypes.string,\n    webviewType: PropTypes.oneOf(['vkapps', 'internal'])\n  };\n\n  state = {\n    ready: false\n  };\n\n  get document () { return this.context.document || document; }\n\n  get webviewType () { return this.context.webviewType || 'vkapps'; }\n\n  componentDidMount () {\n    const panelId = this.context.panel;\n\n    this.leftNode = this.document.getElementById('header-left-' + panelId);\n    this.addonNode = this.document.getElementById('header-addon-' + panelId);\n    this.titleNode = this.document.getElementById('header-title-' + panelId);\n    this.rightNode = this.document.getElementById('header-right-' + panelId);\n    this.bgNode = this.document.getElementById('header-bg-' + panelId);\n\n    const getRef = this.props.getRef;\n    if (getRef) {\n      const element = this.document.getElementById(`panel-header-${panelId}`);\n      if (typeof getRef === 'function') {\n        getRef(element);\n      } else {\n        getRef.current = element;\n      }\n    }\n\n    this.setState({ ready: true });\n  }\n\n  render () {\n    let { left, addon, children, right, theme, noShadow, transparent } = this.props;\n    const isPrimitive = typeof children === 'string' || typeof children === 'number';\n\n    return this.state.ready ? [\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-bg', {\n        [`PanelHeader-bg--${theme}`]: true,\n        'PanelHeader-bg--tp': transparent,\n        [`PanelHeader-bg--no-shadow`]: noShadow || ['bright_light', 'space_gray'].indexOf(this.context.scheme) >= 0\n      })}/>, this.bgNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-left-in', {\n        [`PanelHeader-left-in--${theme}`]: true,\n        'PanelHeader-left-in--tp': transparent\n      })}>{left}</div>, this.leftNode),\n      IS_PLATFORM_IOS && ReactDOM.createPortal(<div className={classNames('PanelHeader-addon', {\n        [`PanelHeader-addon--${theme}`]: true,\n        'PanelHeader-addon--tp': transparent\n      })}>{addon}</div>, this.addonNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-content', {\n        [`PanelHeader-content--${theme}`]: true,\n        'PanelHeader-content--tp': transparent\n      })}>\n        {isPrimitive ? <span>{children}</span> : children}\n      </div>, this.titleNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-right', {\n        [`PanelHeader-right--${theme}`]: true,\n        'PanelHeader-right--tp': transparent,\n        'PanelHeader-right--vkapps': this.webviewType === 'vkapps'\n      })}>{this.webviewType === 'internal' ? right : null}</div>, this.rightNode)\n    ] : null;\n  }\n}\n"],"file":"PanelHeader.js"}