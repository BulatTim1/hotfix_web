{"version":3,"sources":["../../../src/components/PopoutWrapper/PopoutWrapper.js"],"names":["baseClassNames","PopoutWrapper","opened","e","manual","animationName","setState","preventDefault","state","props","onClick","el","window","addEventListener","preventTouch","passive","waitAnimationFinish","onFadeInEnd","removeEventListener","clearTimeout","animationFinishTimeout","elem","eventHandler","transitionEvents","supported","eventName","prefix","setTimeout","bind","IS_PLATFORM_ANDROID","v","h","closing","children","hasMask","className","restProps","getRef","React","Component","PropTypes","bool","oneOf","func","style","object","node","string"],"mappings":"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","sourcesContent":["import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport transitionEvents from '../../lib/transitionEvents';\n\nconst baseClassNames = getClassName('PopoutWrapper');\n\nexport default class PopoutWrapper extends React.Component {\n  state = {\n    opened: false\n  };\n\n  static propTypes = {\n    hasMask: PropTypes.bool,\n    v: PropTypes.oneOf(['top', 'center', 'bottom']),\n    h: PropTypes.oneOf(['left', 'center', 'right']),\n    closing: PropTypes.bool,\n    onClick: PropTypes.func,\n    style: PropTypes.object,\n    children: PropTypes.node,\n    className: PropTypes.string\n  };\n\n  static defaultProps = {\n    hasMask: true,\n    v: 'center',\n    h: 'center',\n    closing: false\n  };\n\n  componentDidMount () {\n    window.addEventListener('touchmove', this.preventTouch, { passive: false });\n    this.waitAnimationFinish(this.el, this.onFadeInEnd);\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('touchmove', this.preventTouch, { passive: false });\n    clearTimeout(this.animationFinishTimeout);\n  }\n\n  waitAnimationFinish (elem, eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'AnimationEnd' : 'animationend';\n      elem.removeEventListener(eventName, eventHandler);\n      elem.addEventListener(eventName, eventHandler);\n    } else {\n      this.animationFinishTimeout = setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 300 : 600);\n    }\n  }\n\n  onFadeInEnd = (e = { manual: true }) => {\n    if (e.animationName === 'animation-full-fade-in' || e.manual) {\n      this.setState({ opened: true });\n    }\n  };\n\n  preventTouch = e => e.preventDefault();\n\n  onClick = e => this.state.opened && this.props.onClick && this.props.onClick(e);\n\n  getRef = el => this.el = el;\n\n  render () {\n    const { v, h, closing, children, hasMask, onClick, className, ...restProps } = this.props;\n\n    return (\n      <div {...restProps} className={classNames(baseClassNames, {\n        [`PopoutWrapper--v-${v}`]: v,\n        [`PopoutWrapper--h-${h}`]: h,\n        'PopoutWrapper--closing': closing\n      }, className)} onClick={this.onClick} ref={this.getRef}>\n        {hasMask && <div className=\"PopoutWrapper__mask\" />}\n        <div className=\"PopoutWrapper__container\">{children}</div>\n      </div>\n    );\n  }\n}\n"],"file":"PopoutWrapper.js"}