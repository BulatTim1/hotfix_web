import { Component } from 'react';
import PropTypes from 'prop-types';
import { HasChildren, HasPlatform } from '../../types/props';
export declare const TYPE_CARD = "modal-card";
export declare const TYPE_PAGE = "modal-page";
export interface ModalsStateEntry {
    id: string;
    onClose: () => {};
    type?: 'modal-card' | 'modal-page';
    settlingHeight?: number;
    dynamicContentHeight?: boolean;
    expandable?: boolean;
    modalElement?: HTMLDivElement;
    innerElement?: HTMLDivElement;
    headerElement?: HTMLDivElement;
    contentElement?: HTMLDivElement;
    footerElement?: HTMLDivElement;
    translateY?: number;
    translateYFrom?: number;
    translateYCurrent?: number;
    touchStartTime?: number;
    touchStartContentScrollTop?: number;
    touchMovePositive?: boolean | null;
    touchShiftYPercent?: number;
    expanded?: boolean;
    collapsed?: boolean;
    hidden?: boolean;
    contentScrolled?: boolean;
    expandedRange?: [number, number];
    collapsedRange?: [number, number];
    hiddenRange?: [number, number];
    contentScrollStopTimeout?: number;
}
export interface ModalRootProps extends HasChildren, HasPlatform {
    activeModal?: string;
}
export interface ModalRootState {
    activeModal?: string;
    prevModal?: string;
    nextModal?: string;
    visibleModals?: string[];
    animated?: boolean;
    switching?: boolean;
    history?: string[];
    isBack?: boolean;
    inited?: boolean;
    touchDown?: boolean;
    dragging?: boolean;
}
declare class ModalRoot extends Component<ModalRootProps, ModalRootState> {
    constructor(props: any);
    private modalsState;
    private documentScrolling;
    private activeTransitions;
    private maskElementRef;
    private maskAnimationFrame;
    static propTypes: {
        activeModal: PropTypes.Requireable<string>;
        children: PropTypes.Requireable<PropTypes.ReactNodeLike>;
    };
    static contextTypes: {
        window: PropTypes.Requireable<any>;
        document: PropTypes.Requireable<any>;
        webviewType: PropTypes.Requireable<string>;
    };
    readonly document: any;
    readonly window: any;
    readonly webviewType: any;
    readonly modals: any[];
    initModalsState(): void;
    componentDidMount(): void;
    componentWillUnmount(): void;
    componentDidUpdate(prevProps: any, prevState: any): void;
    blurActiveElement(): void;
    /**
     * Отключает скролл документа
     */
    toggleDocumentScrolling(enabled: boolean): void;
    preventTouch: (event: any) => void;
    pickModal(modalId: any): any;
    /**
     * Инициализирует модалку перед анимацией открытия
     */
    initActiveModal(): void;
    initPageModal(modalState: ModalsStateEntry, modalElement: HTMLDivElement): void;
    initCardModal(modalState: ModalsStateEntry, modalElement: HTMLDivElement): void;
    checkPageContentHeight(): void;
    closeActiveModal(): void;
    onTouchMove: (e: any) => any;
    onPageTouchMove(event: any, modalState: ModalsStateEntry): any;
    onCardTouchMove(event: any, modalState: ModalsStateEntry): void;
    onTouchEnd: (e: any) => void;
    onPageTouchEnd(event: any, modalState: ModalsStateEntry): void;
    onCardTouchEnd(modalState: ModalsStateEntry): void;
    onScroll: (e: any) => void;
    waitTransitionFinish(modalState: ModalsStateEntry, eventHandler: () => void): void;
    switchPrevNext(): void;
    prevNextSwitchEndHandler: () => void;
    /**
     * Анимирует сдивг модалки
     */
    animateTranslate(modalState: ModalsStateEntry, currentPercent?: number): void;
    /**
     * Анимирует тень шапки
     */
    animatePageHeader(modalState: ModalsStateEntry, currentPercent?: number): void;
    /**
     * Устанавливает прозрачность для полупрозрачной подложки
     */
    setMaskOpacity(modalState: ModalsStateEntry, forceOpacity?: number): void;
    /**
     * Закрывает текущую модалку
     */
    triggerActiveModalClose(): void;
    /**
     * По клику на полупрозрачный черный фон нужно закрыть текущую модалку
     */
    onMaskClick: () => void;
    render(): JSX.Element;
}
declare const _default: typeof ModalRoot;
export default _default;
