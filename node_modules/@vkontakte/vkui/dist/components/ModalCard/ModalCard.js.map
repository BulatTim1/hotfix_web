{"version":3,"sources":["../../../src/components/ModalCard/ModalCard.tsx"],"names":["ModalCard","event","target","currentTarget","action","props","actions","dataset","index","persist","insets","icon","title","caption","children","actionsLayout","onClose","platform","bottom","marginBottom","length","map","i","type","onButtonClick","IOS","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;IA2CMA,S;;;;;;;;;;;;;;;;;gGAOY,UAACC,KAAD,EAAW;AACzB,UAAMC,MAAM,GAAGD,KAAK,CAACE,aAArB;AACA,UAAMC,MAAM,GAAG,MAAKC,KAAL,CAAWC,OAAX,CAAmBJ,MAAM,CAACK,OAAP,CAAeC,KAAlC,EAAyCJ,MAAxD;AACAH,MAAAA,KAAK,CAACQ,OAAN;;AAEA,UAAI,OAAOL,MAAP,KAAkB,UAAtB,EAAkC;AAChCA,QAAAA,MAAM,CAACH,KAAD,CAAN;AACD;AACF,K;;;;;;6BAES;AAAA;;AAAA,wBACsF,KAAKI,KAD3F;AAAA,UACAK,MADA,eACAA,MADA;AAAA,UACQC,IADR,eACQA,IADR;AAAA,UACcC,KADd,eACcA,KADd;AAAA,UACqBC,OADrB,eACqBA,OADrB;AAAA,UAC8BC,QAD9B,eAC8BA,QAD9B;AAAA,UACwCR,OADxC,eACwCA,OADxC;AAAA,UACiDS,aADjD,eACiDA,aADjD;AAAA,UACgEC,OADhE,eACgEA,OADhE;AAAA,UACyEC,QADzE,eACyEA,QADzE;AAGR,aACE;AAAK,QAAA,SAAS,EAAE,yBAAW,2BAAa,WAAb,EAA0BA,QAA1B,CAAX;AAAhB,SACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAsC,QAAA,KAAK,EAAE,sBAAUP,MAAM,CAACQ,MAAjB,IAA2B;AAAEC,UAAAA,YAAY,EAAET,MAAM,CAACQ;AAAvB,SAA3B,GAA6D;AAA1G,SACGP,IAAI,IAAI;AAAK,QAAA,SAAS,EAAC;AAAf,SAAkCA,IAAlC,CADX,EAEGC,KAAK,IAAI;AAAK,QAAA,SAAS,EAAC;AAAf,SAAmCA,KAAnC,CAFZ,EAGGC,OAAO,IAAI;AAAK,QAAA,SAAS,EAAC;AAAf,SAAqCA,OAArC,CAHd,EAKGC,QALH,EAOGR,OAAO,CAACc,MAAR,GAAiB,CAAjB,IACD;AAAK,QAAA,SAAS,EAAE,yBAAW,oBAAX,EAAiC;AAC/C,mCAAyBL,aAAa,KAAK;AADI,SAAjC;AAAhB,SAGGT,OAAO,CAACe,GAAR,CAAY,gBAAkBC,CAAlB;AAAA,YAAGV,KAAH,QAAGA,KAAH;AAAA,YAAUW,IAAV,QAAUA,IAAV;AAAA,eACX,6BAAC,eAAD;AACE,UAAA,GAAG,EAAED,CADP;AAEE,wBAAYA,CAFd;AAGE,UAAA,IAAI,EAAC,IAHP;AAIE,UAAA,KAAK,EAAEC,IAJT;AAKE,UAAA,OAAO,EAAE,MAAI,CAACC;AALhB,WAOGZ,KAPH,CADW;AAAA,OAAZ,CAHH,CARF,EAyBGK,QAAQ,KAAKQ,aAAb,IACD,6BAAC,qBAAD;AAAc,QAAA,SAAS,EAAC,oBAAxB;AAA6C,QAAA,OAAO,EAAET;AAAtD,SACE,6BAAC,gBAAD,OADF,CA1BF,CADF,CADF,CADF;AAoCD;;;EAxDqBU,gB;;8BAAlB1B,S,kBACkB;AACpBM,EAAAA,OAAO,EAAE,EADW;AAEpBS,EAAAA,aAAa,EAAE,YAFK;AAGpBL,EAAAA,MAAM,EAAE;AAHY,C;;eA0DT,2BAAa,yBAAWV,SAAX,CAAb,C","sourcesContent":["import React, { Component, HTMLAttributes, ReactNode } from 'react';\nimport Button from '../Button/Button';\nimport HeaderButton from '../HeaderButton/HeaderButton';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport withInsets from '../../hoc/withInsets';\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport { IOS } from '../../lib/platform';\nimport { isNumeric } from '../../lib/utils';\nimport withPlatform from '../../hoc/withPlatform';\nimport { HasPlatform, HasChildren, HasInsets } from '../../types/props';\n\nexport interface ModalCardActionInterface {\n  title: string;\n  action?(): void;\n  type?: 'secondary' | 'primary';\n}\n\nexport interface ModalCardProps extends HTMLAttributes<HTMLElement>, HasPlatform, HasChildren, HasInsets {\n  /**\n   * Иконка.\n   *\n   * Может быть компонентом иконки, например, `<Icon56MoneyTransferOutline />`, или `<Avatar size={72} src=\"\" />`\n   */\n  icon?: ReactNode;\n\n  /**\n   * Заголовок карточки\n   */\n  title?: string,\n\n  /**\n   * Текст, поясняющий заголовок\n   */\n  caption?: string,\n\n  /**\n   * Список кнопок-действий\n   */\n  actions?: ModalCardActionInterface[];\n\n  /**\n   * Тип отображения кнопок: вертикальный или горизонтальный\n   */\n  actionsLayout?: 'vertical' | 'horizontal';\n\n  /**\n   * Будет вызван при закрытии карточки жестом\n   */\n  onClose?(): void;\n}\n\nclass ModalCard extends Component<ModalCardProps> {\n  static defaultProps = {\n    actions: [],\n    actionsLayout: 'horizontal',\n    insets: {}\n  };\n\n  onButtonClick = (event) => {\n    const target = event.currentTarget as HTMLButtonElement;\n    const action = this.props.actions[target.dataset.index].action;\n    event.persist();\n\n    if (typeof action === 'function') {\n      action(event);\n    }\n  };\n\n  render () {\n    const { insets, icon, title, caption, children, actions, actionsLayout, onClose, platform } = this.props;\n\n    return (\n      <div className={classNames(getClassName('ModalCard', platform))}>\n        <div className=\"ModalCard__in\">\n          <div className=\"ModalCard__container\" style={isNumeric(insets.bottom) ? { marginBottom: insets.bottom } : null}>\n            {icon && <div className=\"ModalCard__icon\">{icon}</div>}\n            {title && <div className=\"ModalCard__title\">{title}</div>}\n            {caption && <div className=\"ModalCard__caption\">{caption}</div>}\n\n            {children}\n\n            {actions.length > 0 &&\n            <div className={classNames('ModalCard__actions', {\n              'ModalCard__actions--v': actionsLayout === 'vertical'\n            })}>\n              {actions.map(({ title, type }, i) => (\n                <Button\n                  key={i}\n                  data-index={i}\n                  size=\"xl\"\n                  level={type}\n                  onClick={this.onButtonClick}\n                >\n                  {title}\n                </Button>\n              ))}\n            </div>\n            }\n\n            {platform === IOS &&\n            <HeaderButton className=\"ModalCard__dismiss\" onClick={onClose}>\n              <Icon24Dismiss />\n            </HeaderButton>}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withPlatform(withInsets(ModalCard));\n"],"file":"ModalCard.js"}